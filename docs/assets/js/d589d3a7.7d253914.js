"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[924],{6475:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"getting-started","title":"Getting started","description":"Everything you need to run mc-pulse locally and explore the API.","source":"@site/docs/getting-started.md","sourceDirName":".","slug":"/getting-started","permalink":"/mc-pulse/docs/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/Noobyetpro/mc-pulse/tree/main/docs/docs/getting-started.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Download & install","permalink":"/mc-pulse/docs/download-and-install"},"next":{"title":"API reference","permalink":"/mc-pulse/docs/api"}}');var r=n(4848),l=n(8453);const i={sidebar_position:2},d="Getting started",c={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configure environment",id:"configure-environment",level:2},{value:"Install and set up the database",id:"install-and-set-up-the-database",level:2},{value:"Run locally",id:"run-locally",level:2},{value:"Quick smoke test",id:"quick-smoke-test",level:2}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"getting-started",children:"Getting started"})}),"\n",(0,r.jsx)(s.p,{children:"Everything you need to run mc-pulse locally and explore the API."}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Node.js ",(0,r.jsx)(s.strong,{children:"18+"})," (ESM project)."]}),"\n",(0,r.jsx)(s.li,{children:"Postgres (for servers, snapshots, API keys, and webhooks)."}),"\n",(0,r.jsx)(s.li,{children:"Redis (Java status cache). The server will still start if Redis is down, but Java lookups will skip caching."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"configure-environment",children:"Configure environment"}),"\n",(0,r.jsx)(s.p,{children:"Copy the example file and set your secrets:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,r.jsx)(s.p,{children:"Key variables:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Variable"}),(0,r.jsx)(s.th,{children:"Purpose"}),(0,r.jsx)(s.th,{children:"Default"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"PORT"})}),(0,r.jsx)(s.td,{children:"HTTP port for the API server"}),(0,r.jsx)(s.td,{children:"3000"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"DATABASE_URL"})}),(0,r.jsx)(s.td,{children:"Postgres connection string (mc_pulse schema is used)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"required"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"REDIS_URL"})}),(0,r.jsx)(s.td,{children:"Redis connection string"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"required"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"CACHE_TTL_SECONDS"})}),(0,r.jsx)(s.td,{children:"Redis TTL for Java status cache"}),(0,r.jsx)(s.td,{children:"30"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"DEFAULT_SERVER_HOST"})}),(0,r.jsx)(s.td,{children:"Fallback host when none is provided"}),(0,r.jsx)(s.td,{children:"localhost"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"DEFAULT_SERVER_PORT"})}),(0,r.jsx)(s.td,{children:"Fallback port for Java pings"}),(0,r.jsx)(s.td,{children:"25565"})]})]})]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Bedrock pings default to port ",(0,r.jsx)(s.strong,{children:"19132"})," if no ",(0,r.jsx)(s.code,{children:"port"})," is provided."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"install-and-set-up-the-database",children:"Install and set up the database"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npm install\nnpx prisma generate\nnpx prisma migrate dev\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"migrate dev"})," creates the ",(0,r.jsx)(s.code,{children:"mc_pulse"})," schema and tables locally. Use ",(0,r.jsx)(s.code,{children:"npx prisma migrate deploy"})," for production rollouts."]}),"\n",(0,r.jsx)(s.h2,{id:"run-locally",children:"Run locally"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npm run dev\n"})}),"\n",(0,r.jsxs)(s.p,{children:["mc-pulse listens on ",(0,r.jsx)(s.code,{children:"http://localhost:${PORT}"})," and exposes ",(0,r.jsx)(s.code,{children:"/health"})," for quick checks."]}),"\n",(0,r.jsx)(s.h2,{id:"quick-smoke-test",children:"Quick smoke test"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Health\ncurl http://localhost:${PORT:-3000}/health\n\n# Create an API key (save the returned key; there is no list endpoint)\nAPI_KEY=$(curl -s -X POST http://localhost:${PORT:-3000}/api/api-keys \\\n  -H "Content-Type: application/json" -d \'{"label":"local test"}\' | jq -r .key)\n\n# Java status lookup\ncurl "http://localhost:${PORT:-3000}/api/status/java?host=arch.mc"\n\n# Notify all webhooks for this key (replace host/port as needed)\ncurl -X POST "http://localhost:${PORT:-3000}/api/notify?host=arch.mc&type=java" \\\n  -H "x-api-key: ${API_KEY}"\n'})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["If you do not have ",(0,r.jsx)(s.code,{children:"jq"}),", just copy the ",(0,r.jsx)(s.code,{children:"key"})," value from the JSON response."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Next stop: read the ",(0,r.jsx)(s.a,{href:"/mc-pulse/docs/api",children:"API reference"})," and ",(0,r.jsx)(s.a,{href:"/mc-pulse/docs/webhooks",children:"webhook guide"})," to wire this into your app or Discord bot."]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var t=n(6540);const r={},l=t.createContext(r);function i(e){const s=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);